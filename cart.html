<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Ichhari Media">
  <link rel="shortcut icon" href="favicon.png?v2">

  <meta name="description" content="" />

	<!-- Bootstrap CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	<link href="css/tiny-slider.css" rel="stylesheet">
	<link href="css/style.css?v=1.6" rel="stylesheet">
	<title>Meubles Ben Hassan</title>

	<script type="module" src="js/auth.js"></script>
</head>

	<body>

		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">
			<div class="container">
				<a class="navbar-brand benhassan" href="index.html"><img src="./images/logo1.png" alt="" class="image-logo"></a>
				
				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto me-auto mb-2 mb-md-0">
						<li class="nav-item">
							<a class="nav-link" href="index.html">الصفحة الرئيسية</a>
						</li>
						<li>
							<a class="nav-link" href="shop.html">المتجر</a>
						</li>
						<li>
							<a class="nav-link" href="contact.html">اتصل بنا</a>
						</li>
					</ul>
				</div>

				<div class="d-flex justify-content-end">
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="row me-auto">
						<div class="">
							<div class="subscription-form">
								<ul class="list-unstyled custom-social mb-0 pe-0 d-flex align-items-center">
									<li class="d-lg-block d-none"><a href="https://web.facebook.com/p/Meubles-ben-hassan-100076414397286/?_rdc=1&_rdr"><span class="fa fa-brands fa-facebook-f"></span></a></li>
									<li class="d-lg-block d-none"><a href="https://www.instagram.com/meubles.benhassan/"><span class="fa fa-brands fa-instagram"></span></a></li>
									<li class="ms-3"><a href="cart.html"><img src="images/cart.svg"></a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				
			</div>	
		</nav>
		<!-- End Header/Navigation -->
		<div class="untree_co-section before-footer-section">
            <div class="container">
				<div class="row d-md-none mb-5">
					<form method="post" class="col-md-12">
						<div class="row justify-content-center">
							<div class="col-2 p-0">
								<img src="images/prod1.jpg" alt="Image" class="w-100">
							</div>
							<div class="col-4 p-0">
								<div class="col-md-6">
									<h5>
										Product 1
									</h5>
								</div>
								<div class="col-md-6">
									<p>
										$49.00 	
									</p>
								</div>
							</div>
							<div class="col-3 p-0 d-flex align-items-center">
								<div class="d-flex justify-content-center align-items-center">
									<div class="input-group mb-3 d-flex align-items-center quantity-container" style="max-width: 140px;">
										<input type="number" class="ms-1 me-1 form-control text-center quantity-amount" value="1" placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1">
									  </div>
								</div>
							</div>
							<div class="col-1 d-flex align-items-center mb-3">
								<div>
									<a href="#" class="btn btn-2 btn-black btn-sm">X</a>	
								</div>	
							</div>
						</div>
					</form>
				</div>

              <div class="row mb-5 d-none d-md-block">
                <form class="col-md-12" method="post">
                  <div class="site-blocks-table">
                    <table class="table">
                      <thead>
                        <tr>
							<th class="product-thumbnail">صورة</th>
							<th class="product-name">المنتج</th>
							<th class="product-price">السعر</th>
							<th>كمية</th>
							<th class="product-remove">إزالة</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="product-thumbnail">
                            <img src="images/prod1.jpg" alt="Image" class="w-105 img-fluid">
                          </td>
                          <td class="product-name">
                            <h2 class="h5 text-black">Product 1</h2>
                          </td>
                          <td>$49.00</td>
						  <td>
							<div class="d-flex justify-content-center align-items-center">
								<div class="input-group mb-3 d-flex align-items-center quantity-container" style="max-width: 140px;">
									<input type="number" class="ms-1 me-1 form-control text-center quantity-amount" value="1" placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1">
								  </div>
							</div>
						  </td>
                          <td><a href="#" class="btn btn-2 btn-black btn-sm">X</a></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </form>
              </div>
        
              <div class="row">
                <div class="col-md-6">
                  <div class="row mb-5 justify-content-center">
                    <div class="col-md-6">
                      <a href="shop.html"><button class="btn btn-outline-black btn-sm btn-block">متابعة التسوق</button></a>
                    </div>
					<div class="col-md-6">
						<a href="shop.html"><button class="btn btn-outline-black btn-sm btn-block">متابعة التسوق</button></a>
					  </div>
                  </div>
                </div>
                <div class="col-md-6 pl-5">
                  <div class="row justify-content-end">
                    <div class="col-md-7">
                      <div class="row mb-5">
                        <div class="col-md-6">
                          <span class="text-black">Total</span>
                        </div>
                        <div class="col-md-6 text-right">
                          <strong class="text-black">$230.00</strong>
                        </div>
                      </div>
        
                      <div class="row">
                        <div class="col-md-12">
                          <button class="btn btn-black btn-lg py-3 btn-block" onclick="window.location='thankyou.html'">التقدم إلى الدفع</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
		</div>
		

		<!-- Start Footer Section -->
		<footer class="footer-section test">
			<div class="container relative">

				<div class="sofa-img">
					<img src="images/footerImage.png" alt="Image" class="img-fluid">
				</div>

				<div class="row">
					<div class="col-lg-8">
						<div class="subscription-form">
							<ul class="list-unstyled custom-social">
								<li><a href="https://web.facebook.com/p/Meubles-ben-hassan-100076414397286/?_rdc=1&_rdr"><span class="fa fa-brands fa-facebook-f"></span></a></li>
								<li><a href="https://www.instagram.com/meubles.benhassan/"><span class="fa fa-brands fa-instagram"></span></a></li>
							</ul>
						</div>
					</div>
				</div>

				<div class="border-top copyright">
					<div class="row pt-4">
						<div class="col-lg-6 d-flex">
							<p class="mb-2 text-start text-lg-start">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love</p>
						</div>
					</div>
				</div>

			</div>
		</footer>
		<!-- End Footer Section -->	


		<script src="js/bootstrap.bundle.min.js"></script>
		<script src="js/tiny-slider.js"></script>
		<script src="js/custom.js"></script>

		<script>
			async function fetchAndDisplayData() {
    const mobileView = document.querySelector('.row.d-md-none');
    const desktopView = document.querySelector('.site-blocks-table tbody');
    
    try {
      const snapshot = await doc(firestore, 'carts', userId);
      snapshot.forEach((doc) => {
        const data = doc.data();
        
        // Mobile View
        const mobileForm = document.createElement('form');
        mobileForm.method = 'post';
        mobileForm.classList.add('col-md-12');
        
        const mobileRow = document.createElement('div');
        mobileRow.classList.add('row', 'justify-content-center');
        
        const mobileImgDiv = document.createElement('div');
        mobileImgDiv.classList.add('col-2', 'p-0');
        const mobileImg = document.createElement('img');
        mobileImg.src = data.image;
        mobileImg.alt = "Image";
        mobileImg.classList.add('w-100');
        mobileImgDiv.appendChild(mobileImg);
        mobileRow.appendChild(mobileImgDiv);
        
        const mobileDescDiv = document.createElement('div');
        mobileDescDiv.classList.add('col-4', 'p-0');
        const mobileDescNameDiv = document.createElement('div');
        mobileDescNameDiv.classList.add('col-md-6');
        const mobileName = document.createElement('h5');
        mobileName.textContent = data.name;
        mobileDescNameDiv.appendChild(mobileName);
        mobileDescDiv.appendChild(mobileDescNameDiv);
        const mobileDescPriceDiv = document.createElement('div');
        mobileDescPriceDiv.classList.add('col-md-6');
        const mobilePrice = document.createElement('p');
        mobilePrice.textContent = `$${data.price}`;
        mobileDescPriceDiv.appendChild(mobilePrice);
        mobileDescDiv.appendChild(mobileDescPriceDiv);
        mobileRow.appendChild(mobileDescDiv);
        
        const mobileQtyDiv = document.createElement('div');
        mobileQtyDiv.classList.add('col-3', 'p-0', 'd-flex', 'align-items-center');
        const mobileQtyContainer = document.createElement('div');
        mobileQtyContainer.classList.add('d-flex', 'justify-content-center', 'align-items-center');
        const mobileQtyInputGroup = document.createElement('div');
        mobileQtyInputGroup.classList.add('input-group', 'mb-3', 'd-flex', 'align-items-center', 'quantity-container');
        mobileQtyInputGroup.style.maxWidth = '140px';
        const mobileQtyInput = document.createElement('input');
        mobileQtyInput.type = 'number';
        mobileQtyInput.classList.add('ms-1', 'me-1', 'form-control', 'text-center', 'quantity-amount');
        mobileQtyInput.value = '1';
        mobileQtyInputGroup.appendChild(mobileQtyInput);
        mobileQtyContainer.appendChild(mobileQtyInputGroup);
        mobileQtyDiv.appendChild(mobileQtyContainer);
        mobileRow.appendChild(mobileQtyDiv);
        
        const mobileRemoveDiv = document.createElement('div');
        mobileRemoveDiv.classList.add('col-1', 'd-flex', 'align-items-center', 'mb-3');
        const mobileRemoveBtn = document.createElement('a');
        mobileRemoveBtn.href = '#';
        mobileRemoveBtn.classList.add('btn', 'btn-2', 'btn-black', 'btn-sm');
        mobileRemoveBtn.textContent = 'X';
        mobileRemoveDiv.appendChild(mobileRemoveBtn);
        mobileRow.appendChild(mobileRemoveDiv);
        
        mobileForm.appendChild(mobileRow);
        mobileView.appendChild(mobileForm);
        
        // Desktop View
        const desktopRow = document.createElement('tr');
        
        const desktopImgTd = document.createElement('td');
        desktopImgTd.classList.add('product-thumbnail');
        const desktopImg = document.createElement('img');
        desktopImg.src = data.image;
        desktopImg.alt = 'Image';
        desktopImg.classList.add('w-105', 'img-fluid');
        desktopImgTd.appendChild(desktopImg);
        desktopRow.appendChild(desktopImgTd);
        
        const desktopNameTd = document.createElement('td');
        desktopNameTd.classList.add('product-name');
        const desktopName = document.createElement('h2');
        desktopName.classList.add('h5', 'text-black');
        desktopName.textContent = data.name;
        desktopNameTd.appendChild(desktopName);
        desktopRow.appendChild(desktopNameTd);
        
        const desktopPriceTd = document.createElement('td');
        desktopPriceTd.textContent = `$${data.price}`;
        desktopRow.appendChild(desktopPriceTd);
        
        const desktopQtyTd = document.createElement('td');
        const desktopQtyContainer = document.createElement('div');
        desktopQtyContainer.classList.add('d-flex', 'justify-content-center', 'align-items-center');
        const desktopQtyInputGroup = document.createElement('div');
        desktopQtyInputGroup.classList.add('input-group', 'mb-3', 'd-flex', 'align-items-center', 'quantity-container');
        desktopQtyInputGroup.style.maxWidth = '140px';
        const desktopQtyInput = document.createElement('input');
        desktopQtyInput.type = 'number';
        desktopQtyInput.classList.add('ms-1', 'me-1', 'form-control', 'text-center', 'quantity-amount');
        desktopQtyInput.value = '1';
        desktopQtyInputGroup.appendChild(desktopQtyInput);
        desktopQtyContainer.appendChild(desktopQtyInputGroup);
        desktopQtyTd.appendChild(desktopQtyContainer);
        desktopRow.appendChild(desktopQtyTd);
        
        const desktopRemoveTd = document.createElement('td');
        const desktopRemoveBtn = document.createElement('a');
        desktopRemoveBtn.href = '#';
        desktopRemoveBtn.classList.add('btn', 'btn-2', 'btn-black', 'btn-sm');
        desktopRemoveBtn.textContent = 'X';
        desktopRemoveTd.appendChild(desktopRemoveBtn);
        desktopRow.appendChild(desktopRemoveTd);
        
        desktopView.appendChild(desktopRow);
      });
    } catch (error) {
      console.error("Error fetching data: ", error);
    }
  }

			window.onload = fetchAndDisplayData;
		  </script>
		  
	</body>

</html>
